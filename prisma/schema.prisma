// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model NewsPost {
  id        Int      @id @default(autoincrement())
  title     String
  body      String
  player    Roster?  @relation(name: "Player", fields: [playerId], references: [id])
  playerId  Int?
  fixture   Fixture? @relation(name: "Fixture", fields: [fixtureId], references: [id])
  fixtureId Int?
  image     String
  date      DateTime
}

model Contact {
  id       Int    @id @default(autoincrement())
  fullName String
  email    String
  subject  String
  message  String
}

model Member {
  id         Int      @id @default(autoincrement())
  fullName   String
  birthdate  DateTime
  address    String
  postalCode String
  location   String
  phone      String
  photo      String
  email      String
}

model Fixture {
  id            Int        @id @default(autoincrement())
  date          DateTime
  location      String
  venue         String
  homeTeamId    Int
  homeTeam      Team       @relation(name: "HomeTeam", fields: [homeTeamId], references: [id])
  awayTeamId    Int
  awayTeam      Team       @relation(name: "AwayTeam", fields: [awayTeamId], references: [id])
  homeTeamGoals Int?
  awayTeamGoals Int?
  competition   String
  round         String?
  season        String
  posts         NewsPost[] @relation("Fixture")
}

model Roster {
  id                Int        @id @default(autoincrement())
  fullname          String
  nickname          String
  photo             String
  nationality       String
  age               Int
  number            Int
  position          String
  specific_position String?
  zerozeroId        Int
  step              String
  posts             NewsPost[] @relation("Player")
}

model CashFlow {
  id          Int    @id @default(autoincrement())
  amount      Float
  type        String
  description String
  category    String
}

model Team {
  id             Int       @id @default(autoincrement())
  step           String
  name           String
  shorthand_name String
  competition    String
  logo           String
  homeFixtures   Fixture[] @relation("HomeTeam")
  awayFixtures   Fixture[] @relation("AwayTeam")
}
